<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Detalle Producto</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <a href="index.html">
      <img src="https://i.postimg.cc/RFr9m6GY/freepik-br-c1e0cdce-9a9e-4d16-a6d9-4dd03ea0907a.png" alt="Logo" />
      <h1>Mi Tienda Retro</h1>
    </a>
  </header>

  <main id="detalleProducto" style="max-width: 900px; margin: 40px auto; background: #2a2a2a; border-radius: 12px; padding: 20px;">
    <!-- Detalle cargado por JS -->
  </main>

  <script>
    const productos = [
      {
        id: "p1",
        name: "Auriculares Bluetooth",
        description: "Auriculares inal치mbricos con cancelaci칩n de ruido",
        price: 4999,
        oldPrice: 7999,
        image: "img/auriculares.jpg",
      },
      {
        id: "p2",
        name: "Kit Arduino Uno",
        description: "Kit completo de desarrollo con Arduino Uno R3",
        price: 8999,
        oldPrice: 12999,
        image: "img/arduino.jpg",
      },
      {
        id: "p3",
        name: "Teclado Retro Iluminado",
        description: "Teclado mec치nico retro con luces RGB",
        price: 12999,
        oldPrice: 17999,
        image: "img/teclado.jpg",
      }
    ];

    function getParametro(name) {
      const url = new URL(window.location.href);
      return url.searchParams.get(name);
    }

    function cargarDetalle() {
      const id = getParametro("id");
      const prod = productos.find(p => p.id === id);
      const cont = document.getElementById("detalleProducto");

      if (!prod) {
        cont.innerHTML = "<p>Producto no encontrado.</p>";
        return;
      }

      cont.innerHTML = `
        <h2 style="color: #f4a300;">${prod.name}</h2>
        <img src="${prod.image}" alt="${prod.name}" style="width: 100%; max-width: 400px; border-radius: 12px; margin: 20px 0;" />
        <p>${prod.description}</p>
        <p><del>$${prod.oldPrice}</del> <strong style="color:#f4a300; font-size: 1.5rem;">$${prod.price}</strong></p>
        <button onclick="agregarAlCarrito('${prod.id}')" style="background:#f4a300; border:none; padding:12px 20px; font-weight:bold; border-radius: 10px; cursor:pointer;">Agregar al carrito</button>
      `;
    }

    function agregarAlCarrito(id) {
      let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
      if (carrito.find(item => item.id === id)) {
        alert("El producto ya est치 en el carrito.");
        return;
      }
      carrito.push({id});
      localStorage.setItem("carrito", JSON.stringify(carrito));
      alert("Producto agregado al carrito.");
    }

    window.onload = cargarDetalle;
  </script>
</body>
</html>
